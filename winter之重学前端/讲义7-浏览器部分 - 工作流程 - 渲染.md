<font face="微软雅黑" size="4" >
<font size="6">DOM树的构建</font>

### 解析代码
HTML 的结构不算太复杂，我们日常开发需要的 90% 的“词”（指编译原理的术语 token，表示最小的有意义的单元），种类大约只有标签开始、属性、标签结束、注释、CDATA 节点几种。
### 构建 DOM 树

接下来我们要把这些简单的词变成 DOM 树，这个过程我们是使用栈来实现的，(JavaScript 中的栈只要用数组就可以)。
构建 DOM 树的流程大致如下：

1. 栈顶元素就是当前节点；
2. 遇到属性，就添加到当前节点；
3. 遇到文本节点，如果当前节点是文本节点，则跟文本节点合并，否则入栈成为当前节点的子节点；
4. 遇到注释节点，作为当前节点的子节点；
5. 遇到 tag start 就入栈一个节点，当前节点就是这个节点的父节点；
6. 遇到 tag end 就出栈一个节点（还可以检查是否匹配）。


</font>
